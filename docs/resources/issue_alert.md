---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sentry_issue_alert Resource - terraform-provider-sentry"
subcategory: ""
description: |-
  Sentry Issue Alert resource. Note that there's no public documentation for the values of conditions, filters, and actions. You can either inspect the request payload sent when creating or editing an issue alert on Sentry or inspect Sentry's rules registry in the source code https://github.com/getsentry/sentry/tree/master/src/sentry/rules.
---

# sentry_issue_alert (Resource)

Sentry Issue Alert resource. Note that there's no public documentation for the values of conditions, filters, and actions. You can either inspect the request payload sent when creating or editing an issue alert on Sentry or inspect [Sentry's rules registry in the source code](https://github.com/getsentry/sentry/tree/master/src/sentry/rules).

## Example Usage

```terraform
resource "sentry_issue_alert" "main" {
  organization = sentry_project.main.organization
  project      = sentry_project.main.id
  name         = "My issue alert"

  action_match = "any"
  filter_match = "any"
  frequency    = 30

  conditions = [
    # A new issue is created
    {
      id = "sentry.rules.conditions.first_seen_event.FirstSeenEventCondition"
    },

    # The issue changes state from resolved to unresolved
    {
      id = "sentry.rules.conditions.regression_event.RegressionEventCondition"
    },

    # The issue is seen more than 100 times in 1h
    {
      id             = "sentry.rules.conditions.event_frequency.EventFrequencyCondition"
      value          = 100
      comparisonType = "count"
      interval       = "1h"
    },

    # The issue is seen by more than 100 users in 1h
    {
      id             = "sentry.rules.conditions.event_frequency.EventUniqueUserFrequencyCondition"
      value          = 100
      comparisonType = "count"
      interval       = "1h"
    },

    # The issue affects more than 50.0 percent of sessions in 1h
    {
      id             = "sentry.rules.conditions.event_frequency.EventFrequencyPercentCondition"
      value          = 50.0
      comparisonType = "count"
      interval       = "1h"
    },
  ]

  filters = [
    # The issue is older than 10 minute
    {
      id              = "sentry.rules.filters.age_comparison.AgeComparisonFilter"
      value           = 10
      time            = "minute"
      comparison_type = "older"
    },

    # The issue has happened at least 10 times
    {
      id    = "sentry.rules.filters.issue_occurrences.IssueOccurrencesFilter"
      value = 10
    },

    # The issue is assigned to Team
    {
      id               = "sentry.rules.filters.assigned_to.AssignedToFilter"
      targetType       = "Team"
      targetIdentifier = sentry_team.main.team_id
    },

    # The event is from the latest release
    {
      id = "sentry.rules.filters.latest_release.LatestReleaseFilter"
    },

    # The event's message value contains test
    {
      id        = "sentry.rules.filters.event_attribute.EventAttributeFilter"
      attribute = "message"
      match     = "co"
      value     = "test"
    },

    # The event's tags match test contains test
    {
      id    = "sentry.rules.filters.tagged_event.TaggedEventFilter"
      key   = "test"
      match = "co"
      value = "test"
    },

    # The event's level is equal to fatal
    {
      id    = "sentry.rules.filters.level.LevelFilter"
      match = "eq"
      level = "50"
    }
  ]

  actions = [
    # Send a notification to IssueOwners
    {
      id               = "sentry.mail.actions.NotifyEmailAction"
      targetType       = "IssueOwners"
      targetIdentifier = ""
    },

    # Send a notification to Team
    {
      id               = "sentry.mail.actions.NotifyEmailAction"
      targetType       = "Team"
      targetIdentifier = sentry_team.main.team_id
    },

    # Send a notification (for all legacy integrations)
    {
      id = "sentry.rules.actions.notify_event.NotifyEventAction"
    },

    # Send a notification to the Slack workspace to #general
    {
      id      = "sentry.integrations.slack.notify_action.SlackNotifyServiceAction"
      channel = "#general"

      # From: https://sentry.io/settings/[org-slug]/integrations/slack/[slack-integration-id]/
      # Or use the sentry_organization_integration data source to retrieve the integration ID:
      workspace = data.sentry_organization_integration.slack.internal_id
    },
  ]
}

# Retrieve a Slack integration
data "sentry_organization_integration" "slack" {
  organization = sentry_project.test.organization

  provider_key = "slack"
  name         = "Slack Workspace" # Name of your Slack workspace
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `action_match` (String) Trigger actions when an event is captured by Sentry and `any` or `all` of the specified conditions happen.
- `actions` (List of Map of String) List of actions.
- `conditions` (List of Map of String) List of conditions.
- `filter_match` (String) Trigger actions if `all`, `any`, or `none` of the specified filters match.
- `frequency` (Number) Perform actions at most once every `X` minutes for this issue. Defaults to `30`.
- `name` (String) The issue alert name.
- `organization` (String) The slug of the organization the issue alert belongs to.
- `project` (String) The slug of the project to create the issue alert for.

### Optional

- `environment` (String) Perform issue alert in a specific environment.
- `filters` (List of Map of String) List of filters.

### Read-Only

- `id` (String) The ID of this resource.
- `internal_id` (String) The internal ID for this issue alert.
- `projects` (List of String, Deprecated) Use `project` (singular) instead.

## Import

Import is supported using the following syntax:

```shell
# import using the organization, project slugs and rule id from the URL:
# https://sentry.io/organizations/[org-slug]/alerts/rules/[project-slug]/[rule-id]/details/
terraform import sentry_issue_alert.default org-slug/project-slug/rule-id
```
